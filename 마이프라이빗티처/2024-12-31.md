#### useHydrateAtoms 와 useSetAtoms

`useHydrateAtoms`는 **초기값을 설정**하는 데만 사용되며, Atom의 상태를 변경하려고 사용할 경우 제대로 작동하지 않습니다.


### `useSetAtom` vs `useHydrateAtoms` 비교

| 특징             | `useSetAtom`                  | `useHydrateAtoms`               |
| -------------- | ----------------------------- | ------------------------------- |
| **초기화 방식**     | 여러 개의 Atom을 각각 초기화 (반복 호출 필요) | 여러 Atom을 한 번에 초기화 가능            |
| **유연성**        | 초기화 후 상태 변경이 더 명확함            | 초기화만 가능하며 이후 상태 변경은 따로 구현 필요    |
| **비동기 데이터 처리** | 비동기 데이터도 쉽게 초기화 가능            | 초기화 시점이 렌더링 전이라 비동기 처리 어렵거나 불가능 |
| **사용 시점**      | 동적으로 Atom 값을 설정하거나 변경해야 하는 경우 | 서버에서 받아온 데이터를 SSR 초기화에 사용하는 경우  |

#### useEffect의 의존성 배열에는 사용하는 함수도 넣는다

### 이유: **클로저와 함수의 변경 가능성**

React 컴포넌트가 리렌더링될 때, 컴포넌트 내부에서 정의된 함수(예: `useForm`에서 제공받은 `setValue`)는 새로운 클로저를 생성합니다. 이 경우, `setValue`와 같은 함수는 매번 새로운 참조(reference)를 가지므로, React는 함수가 변경되었다고 판단할 수 있습니다.

- 함수가 변경된 것으로 간주되면, `useEffect`의 의존성 배열에 포함되어야 합니다.
- 만약 포함하지 않으면 **stale closure**(이전 상태의 함수나 변수를 참조하는 문제)로 인해 의도치 않은 동작이 발생할 수 있습니다.